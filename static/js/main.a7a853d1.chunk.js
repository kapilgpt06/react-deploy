(this["webpackJsonpreact-deploy"]=this["webpackJsonpreact-deploy"]||[]).push([[0],{39:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(23),s=c.n(a),i=c(10),j=c.n(i),u=c(13),d=c(5),l=c(24);c(32);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY);var b=l.a.initializeApp({apiKey:"AIzaSyDzjL1WkQdFTjpTNvjrB248xy0oh2_F84c",authDomain:"war-fb443.firebaseapp.com",databaseURL:"https://war-fb443-default-rtdb.firebaseio.com",projectId:"war-fb443",storageBucket:"war-fb443.appspot.com",messagingSenderId:"758408036544",appId:"1:758408036544:web:367dcb3e95093ef1b36d25",measurementId:"G-JSVN1B6R31"}),o=b.auth(),O=c(0),p=n.a.createContext();function h(){return Object(r.useContext)(p)}function x(e){var t=e.children,c=Object(r.useState)(),n=Object(d.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(!0),j=Object(d.a)(i,2),u=j[0],l=j[1];Object(r.useEffect)((function(){return o.onAuthStateChanged((function(e){s(e),l(!1)}))}),[]);var b={currentUser:a,login:function(e,t){return o.signInWithEmailAndPassword(e,t)},signup:function(e,t){return o.createUserWithEmailAndPassword(e,t)},logout:function(){return o.signOut()},resetPassword:function(e){return o.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(O.jsx)(p.Provider,{value:b,children:!u&&t})}var m=c(3),f=c(7);function v(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),n=h().signup,a=Object(r.useState)(""),s=Object(d.a)(a,2),i=s[0],l=s[1],b=Object(r.useState)(!1),o=Object(d.a)(b,2),p=o[0],x=o[1],v=Object(m.g)();function w(){return(w=Object(u.a)(j.a.mark((function r(a){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){r.next=3;break}return r.abrupt("return",l("Passwords do not match"));case 3:return r.prev=3,l(""),x(!0),r.next=8,n(e.current.value,t.current.value);case 8:v.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),l("Failed to create an account");case 14:x(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),i&&Object(O.jsx)("alert",{variant:"danger",children:i}),Object(O.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(O.jsxs)("div",{id:"email",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:e,required:!0})]}),Object(O.jsxs)("div",{id:"password",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",ref:t,required:!0})]}),Object(O.jsxs)("div",{id:"password-confirm",children:[Object(O.jsx)("label",{children:"Password Confirmation"}),Object(O.jsx)("input",{type:"password",ref:c,required:!0})]}),Object(O.jsx)("button",{disabled:p,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(O.jsx)(f.b,{to:"/login",children:"Log In"})]})]})}function w(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=(t[0],t[1]),n=h(),a=n.currentUser,s=n.logout,i=Object(m.g)();function l(){return(l=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,s();case 4:i.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),Object(O.jsx)("strong",{children:"Email:"})," ",a.email,Object(O.jsx)(f.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)("button",{variant:"link",onClick:function(){return l.apply(this,arguments)},children:"Log Out"})})]})}function g(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=h().login,n=Object(r.useState)(""),a=Object(d.a)(n,2),s=a[0],i=a[1],l=Object(r.useState)(!1),b=Object(d.a)(l,2),o=b[0],p=b[1],x=Object(m.g)();function v(){return(v=Object(u.a)(j.a.mark((function r(n){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,i(""),p(!0),r.next=6,c(e.current.value,t.current.value);case 6:x.push("/"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),i("Failed to log in");case 12:p(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(O.jsx)("alert",{variant:"danger",children:s}),Object(O.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(O.jsxs)("div",{id:"email",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:e,required:!0})]}),Object(O.jsxs)("div",{id:"password",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",ref:t,required:!0})]}),Object(O.jsx)("button",{disabled:o,className:"w-100",type:"submit",children:"Log In"})]}),Object(O.jsx)("div",{className:"w-100 text-center mt-3",children:Object(O.jsx)(f.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(O.jsx)(f.b,{to:"/signup",children:"Sign Up"})]})]})}var S=c(16),y=c(26);function P(e){var t=e.component,c=Object(y.a)(e,["component"]),r=h().currentUser;return Object(O.jsx)(m.b,Object(S.a)(Object(S.a)({},c),{},{render:function(e){return r?Object(O.jsx)(t,Object(S.a)({},e)):Object(O.jsx)(m.a,{to:"/login"})}}))}function E(){Object(r.useRef)(),h().resetPassword;var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=(t[0],t[1],Object(r.useState)("")),n=Object(d.a)(c,2),a=(n[0],n[1],Object(r.useState)(!1)),s=Object(d.a)(a,2);s[0],s[1];return Object(O.jsx)(O.Fragment,{})}function N(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),n=h(),a=n.currentUser,s=n.updatePassword,i=n.updateEmail,j=Object(r.useState)(""),u=Object(d.a)(j,2),l=u[0],b=u[1],o=Object(r.useState)(!1),p=Object(d.a)(o,2),x=p[0],v=p[1],w=Object(m.g)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),l&&Object(O.jsx)("alert",{variant:"danger",children:l}),Object(O.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),t.current.value!==c.current.value)return b("Passwords do not match");var n=[];v(!0),b(""),e.current.value!==a.email&&n.push(i(e.current.value)),t.current.value&&n.push(s(t.current.value)),Promise.all(n).then((function(){w.push("/")})).catch((function(){b("Failed to update account")})).finally((function(){v(!1)}))},children:[Object(O.jsxs)("div",{id:"email",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",ref:e,required:!0,defaultValue:a.email})]}),Object(O.jsxs)("div",{id:"password",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(O.jsxs)("div",{id:"password-confirm",children:[Object(O.jsx)("label",{children:"Password Confirmation"}),Object(O.jsx)("input",{type:"password",ref:c,placeholder:"Leave blank to keep the same"})]}),Object(O.jsx)("button",{disabled:x,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)(f.b,{to:"/",children:"Cancel"})})]})}var R=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(O.jsx)(f.a,{children:Object(O.jsx)(x,{children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(P,{exact:!0,path:"/",component:w}),Object(O.jsx)(P,{path:"/update-profile",component:N}),Object(O.jsx)(m.b,{path:"/signup",component:v}),Object(O.jsx)(m.b,{path:"/login",component:g}),Object(O.jsx)(m.b,{path:"/forgot-password",component:E})]})})})})})};s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a7a853d1.chunk.js.map